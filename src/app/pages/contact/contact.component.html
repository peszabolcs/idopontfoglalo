<div class="contact-container">
  <mat-card class="contact-card">
    <mat-card-header>
      <mat-card-title>Kapcsolatfelvétel</mat-card-title>
      <mat-card-subtitle>Kérdése van? Írjon nekünk!</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form
        [formGroup]="contactForm"
        (ngSubmit)="onSubmit()"
        class="contact-form"
      >
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Név</mat-label>
          <input matInput formControlName="name" placeholder="Az Ön neve" />
          <mat-icon matPrefix>person</mat-icon>
          <mat-error
            *ngIf="
              contactForm.get('name')?.invalid &&
              contactForm.get('name')?.touched
            "
          >
            {{ getErrorMessage("name") }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input
            matInput
            formControlName="email"
            placeholder="Az Ön email címe"
            type="email"
          />
          <mat-icon matPrefix>email</mat-icon>
          <mat-error
            *ngIf="
              contactForm.get('email')?.invalid &&
              contactForm.get('email')?.touched
            "
          >
            {{ getErrorMessage("email") }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Tárgy</mat-label>
          <mat-select formControlName="subject">
            <mat-option
              *ngFor="let option of subjectOptions"
              [value]="option.value"
            >
              {{ option.viewValue }}
            </mat-option>
          </mat-select>
          <mat-icon matPrefix>subject</mat-icon>
          <mat-error
            *ngIf="
              contactForm.get('subject')?.invalid &&
              contactForm.get('subject')?.touched
            "
          >
            {{ getErrorMessage("subject") }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Üzenet</mat-label>
          <textarea
            matInput
            formControlName="message"
            placeholder="Az Ön üzenete..."
            rows="5"
          ></textarea>
          <mat-icon matPrefix>message</mat-icon>
          <mat-hint align="end"
            >{{ contactForm.get("message")?.value?.length || 0 }}/500</mat-hint
          >
          <mat-error
            *ngIf="
              contactForm.get('message')?.invalid &&
              contactForm.get('message')?.touched
            "
          >
            {{ getErrorMessage("message") }}
          </mat-error>
        </mat-form-field>

        <div class="form-actions">
          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="isSubmitting"
          >
            <mat-spinner
              *ngIf="isSubmitting"
              diameter="24"
              class="spinner-button"
            ></mat-spinner>
            <span *ngIf="!isSubmitting">Küldés</span>
          </button>
          <button
            mat-button
            type="button"
            [disabled]="isSubmitting"
            (click)="contactForm.reset({ subject: 'general' })"
          >
            Alaphelyzet
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

  <mat-card class="contact-info-card">
    <mat-card-header>
      <mat-card-title>Elérhetőségeink</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="contact-info-item">
        <mat-icon>phone</mat-icon>
        <span>+36 1 123 4567</span>
      </div>
      <div class="contact-info-item">
        <mat-icon>email</mat-icon>
        <span>info@idopontfoglalo.hu</span>
      </div>
      <div class="contact-info-item">
        <mat-icon>location_on</mat-icon>
        <span>1051 Budapest, Példa utca 1.</span>
      </div>
      <div class="contact-info-item">
        <mat-icon>access_time</mat-icon>
        <span>Ügyfélszolgálat: H-P, 9:00-17:00</span>
      </div>
    </mat-card-content>
  </mat-card>
</div>
